<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org/"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/example/layout}">

<title layout:fragment="title">Hex - 404 Error</title>

<th:block layout:fragment="customHead">
    <script src="//cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.min.js"></script>
    <style>
        footer{padding-top: 0 !important}
        #error{height: unset !important; overflow: unset !important;}
    </style>
</th:block>

<main layout:fragment="content" id="error" class="flex justify-center h-fit">
    <script>
        (function() {
            const wf = document.createElement('script');
            wf.src = `${document.location.protocol === 'https:' ? 'https' : 'http'}://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js`;
            wf.type = 'text/javascript';
            wf.async = true;
            const s = document.getElementsByTagName('script')[0];
            s.parentNode?.insertBefore(wf, s);
            const element = document.createElement('style');
            document.head.appendChild(element);
            if(element.sheet) element.sheet.insertRule('@font-face { font-family: "neodgm"; src: url("fonts/neodgm.woff") format("woff"); }\n', 0);
        }());

        window.WebFontConfig = {
            custom: {
                families: [ 'neodgm' ]
            },
            active() {
                const config = {
                    type: Phaser.AUTO,
                    scale: {
                        mode: Phaser.Scale.FIT,
                        width: 800,
                        height: 350,
                        max: {
                            width: 800,
                            height: 350
                        }
                    },
                    scene: {
                        create: create
                    },
                    pixelArt: true,
                    parent: "error",
                    transparent: true,
                };

                new Phaser.Game(config);
    
                function create ()
                {
                    const text1 = this.add.text(this.game.canvas.width/2, 0, "404",{
                        fontFamily: 'neodgm',
                        fontSize: "300px",
                        color: "rgb(109 40 217 / 1)"
                    }).setOrigin(0.5, 0);

                    let text = "Forbidden ";

                    const text2 = this.add.text(this.game.canvas.width/2, text1.height - 50, text, {
                        fontFamily: 'neodgm',
                        fontSize: "100px",
                        color: "rgb(167 139 250 / 1)",
                        stroke: "rgb(167 139 250 / 1)",
                        strokeThickness: 3
                    }).setOrigin(0.5, 0);

                    setInterval(()=>text2.setText(text = text === "Forbidden_" ? "Forbidden " : "Forbidden_"), 500);
                }
            }
        };
    </script>
</main>
</html>